import{T as d}from"./ToastMessages-aUI2r5z-.js";import{_ as m,a as u,c,b as e,j as l,v as r,k as h,o as g}from"./index-Dr1hX6is.js";import{u as f}from"./toastMessage-CsUj_ydo.js";const _="/HelmentShop/assets/loginpic001-Dd5e_X3G.jpg",b={data(){return{apiUrl:"https://vue3-course-api.hexschool.io/v2",user:{username:"",password:""}}},components:{ToastMessages:d},methods:{...u(f,["pushMessage"]),login(){this.$http.post("https://vue3-course-api.hexschool.io/v2/admin/signin",this.user).then(s=>{const{token:a,expired:n}=s.data;document.cookie=`fabio20token=${a};expires=${new Date(n)}; path=/`,this.$router.push("/dashbord")}).catch(s=>{this.isLoading=!1,this.pushMessage({style:"danger",title:"登入失敗",content:s.response.data.message})})}}},w={class:"login-wrap"},x=e("div",{class:"login-pic"},[e("img",{class:"w-100",src:_,alt:"fabio20HelmentLogo"})],-1),v={class:"d-flex flex-column"},y=e("label",{for:"myemail"}," Email ",-1),k={class:"d-flex flex-column"},M=e("label",{for:"mypassword"},"密碼",-1);function T(p,s,a,n,t,i){return g(),c("section",w,[e("form",{onSubmit:s[3]||(s[3]=h((...o)=>i.login&&i.login(...o),["prevent"])),class:"login-box"},[x,e("div",v,[y,l(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>t.user.username=o),placeholder:"Email",id:"myemail",type:"email"},null,512),[[r,t.user.username]])]),e("div",k,[M,l(e("input",{placeholder:"密碼",id:"mypassword",type:"password","onUpdate:modelValue":s[1]||(s[1]=o=>t.user.password=o)},null,512),[[r,t.user.password]])]),e("button",{onClick:s[2]||(s[2]=(...o)=>i.login&&i.login(...o)),class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ")],32)])}const E=m(b,[["render",T]]);export{E as default};
