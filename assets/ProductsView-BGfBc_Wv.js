import{m as R,a as S,u as A,r as u,d as p,w as b,f as r,b as c,i as v,g as y,e as l,h as T,t as D,C as f}from"./index-Cfi2m2dj.js";import{c as L}from"./cartStore-DTUi49ll.js";import{_ as E}from"./Pagination-D2fuxtQW.js";import{_ as H}from"./Loadingitem-mQZmHoWz.js";import{_ as j}from"./home-BL8hcX6S.js";import{_ as q}from"./motohead-BtBMMVQo.js";import{_ as P}from"./search-ebS0M4nL.js";const N="/HelmentShop/assets/productbanner0001-CnIYAqtV.png",z="/HelmentShop/assets/banner-p03-vMWSzOjC.png",U={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_APIPATH:"fabio20"},{VITE_API:F,VITE_APIPATH:M}=U,_={data(){return{isLoading:!1,products:[],pagination:{},categories:["shoei","ogk","arai"]}},methods:{...S(L,["addToCart"]),getData(g=1){this.isLoading=!0;const{category:i=""}=this.$route.query,e=`${F}/api/${M}/products?category=${i}&page=${g}`;this.$http.get(e).then(m=>{const{products:$,pagination:x}=m.data;this.products=$,this.pagination=x,this.isLoading=!1}).catch(m=>{alert(`取得產品資訊失敗${m.response.data.message}`),this.isLoading=!1})}},computed:{...R(L,["isLoading"])},watch:{"$route.query":{handler(){this.getData()},deep:!0}},components:{Pagination:E,Loadingitem:H},mounted(){this.getData()}};function O(g,i,e,m,$,x,s,W){const C=u("VueLoading"),h=u("Loadingitem"),I=u("RouterLink"),w=u("router-link");i("<!--[-->"),i(p(C,{active:s.isLoading,"z-index":1060},{default:b((t,d,o,a)=>{if(d)d(p(h,null,null,o,a));else return[r(h)]}),_:1},e)),i(`<section class="section-main-banner"><img class="d-none d-md-block w-100"${c("src",N)} alt="banner"><img class="d-block d-md-none w-100"${c("src",z)} alt="banner"></section><section class="section-bread"><div class="section-bread-main"><ol class="bread-list d-flex align-items-center"><li class="bread-list-item"><div class="section-bread-pic"><img width="20"${c("src",j)} alt="home"></div></li><li class="bread-list-item" aria-current="page"><a>產品資訊</a></li></ol></div></section><section class="section-product"><div class="section-product-main"><div class="section-product-title d-flex align-items-center"><div class="product-title-pic"><img${c("src",q)} alt="titlePic"></div><h2>產品資訊</h2></div><div class="section-product-nav"><!--[-->`),v(s.categories,t=>{i(`<li style="${y({"list-style-type":"none"})}">`),i(p(I,{to:`/products?category=${t}`},{default:b((d,o,a,k)=>{if(o)o(`${l(t)}`);else return[T(D(t),1)]}),_:2},e)),i("</li>")}),i('<!--]--></div><div class="product-box row"><!--[-->'),v(s.products,(t,d)=>{i('<div class="col-12 col-md-6 col-lg-4 mb-3 mb-md-4 p-2 p-md-4"><div class="product-item">'),i(p(w,{to:`/product/${t.id}`,class:"d-block position-relative index-product-pic"},{default:b((o,a,k,n)=>{if(a)a(`<img${c("src",t.imageUrl)} alt="Product Image"${n}><div class="index-white-box position-absolute"${n}><div class="white-box-pic position-absolute"${n}><img${c("src",P)} alt=""${n}></div></div>`);else return[r("img",{src:t.imageUrl,alt:"Product Image"},null,8,["src"]),r("div",{class:"index-white-box position-absolute"},[r("div",{class:"white-box-pic position-absolute"},[r("img",{src:P,alt:""})])])]}),_:2},e)),i(`<h4 class="index-product-title">${l(t.title)}</h4><div class="index-product-price"><span><del>原價：${l(t.origin_price)}元</del></span><p>售價：${l(t.price)}元</p></div><div class="product-btns d-flex justify-content-around">`),i(p(w,{to:`/product/${t.id}`,class:"d-block w-50 h-100"},{default:b((o,a,k,n)=>{if(a)a(`<i class="bi bi-search"${n}></i>`);else return[r("i",{class:"bi bi-search"})]}),_:2},e)),i(`<button style="${y({"background-color":"none",border:"none"})}" class="d-block w-50 h-100" href=""><i class="bi bi-cart"></i></button></div></div></div>`)}),i(`<!--]--></div><nav aria-label="Page d-flex navigation example pt-3"><ul class="pagination justify-content-center"><li class="${f([{disabled:s.pagination.current_page===1},"page-item"])}"><a class="page-link" href="#" aria-label="Previous"><span aria-hidden="true"><i class="bi bi-caret-left-fill"></i></span></a></li><!--[-->`),v(s.pagination.total_pages,(t,d)=>{i(`<li class="${f([{active:t===s.pagination.current_page},"page-item"])}">`),t===s.pagination.current_page?i(`<span class="page-link">${l(t)}</span>`):i(`<a class="page-link" href="#">${l(t)}</a>`),i("</li>")}),i(`<!--]--><li class="${f([{disabled:s.pagination.current_page===s.pagination.total_pages},"page-item"])}"><a class="page-link" href="#" aria-label="Next"><span aria-hidden="true"><i class="bi bi-caret-right-fill"></i></span></a></li></ul></nav></div></section><!--]-->`)}_.ssrRender=O;const V=_.setup;_.setup=(g,i)=>{const e=A();return(e.modules||(e.modules=new Set)).add("src/views/FrontView/ProductsView.vue"),V?V(g,i):void 0};export{_ as default};
