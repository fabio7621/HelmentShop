import{P}from"./Pagination-BTOQWExa.js";import{L as w}from"./Loadingitem-BtKMH2zq.js";import{_ as V,c as o,e as h,d as C,b as t,w as u,r,F as d,f,D as _,k as g,o as n,h as I,t as p}from"./index-B2CUwak0.js";import{_ as B,a as y}from"./banner-p04-C3FjaFZe.js";import{_ as T}from"./home-BL8hcX6S.js";import{_ as E}from"./motohead-BtBMMVQo.js";const N={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_APIPATH:"fabio20"},{VITE_API:v,VITE_APIPATH:b}=N,$={data(){return{articles:[],pagination:{},isLoading:!1}},methods:{getArticles(l=1){this.isLoading=!0;const i=`${v}api/${b}/articles?page=${l}`;this.$http.get(i).then(a=>{this.articles=a.data.articles,this.pagination=a.data.pagination,this.isLoading=!1}).catch(a=>{alert(`取得產品資訊失敗${a.response.data.message}`)})},getArticlestag(l){this.isLoading=!0;const i=`${v}api/${b}/articles`;this.$http.get(i).then(a=>{const m=a.data.articles;this.articles=m.filter(s=>s.tag[0]===l),this.isLoading=!1}).catch(a=>{this.isLoading=!1,alert(`取得文章資訊失敗${a.response.data.message}`)})}},components:{Pagination:P,Loadingitem:w},mounted(){this.getArticles()}},z=C('<section class="section-main-banner"><img class="d-none d-md-block w-100" src="'+B+'" alt="banner"><img class="d-block d-md-none w-100" src="'+y+'" alt="banner"></section><section class="section-bread"><div class="section-bread-main"><ol class="bread-list d-flex align-items-center"><li class="bread-list-item"><div class="section-bread-pic"><img width="20" src="'+T+'" alt="homePic"></div></li><li class="bread-list-item" aria-current="page"><a>Blog</a></li></ol></div></section>',2),D={class:"section-product"},F={class:"section-product-main"},H=t("div",{class:"section-product-title d-flex align-items-center"},[t("div",{class:"product-title-pic"},[t("img",{src:E,alt:"title Pic"})]),t("h2",null,"Blog")],-1),M={class:"section-product-nav"},S={class:"article-box row"},j={class:"article-item"},G={class:"article-item-pic d-block"},U=["src"],q={class:"article-content"},J={"aria-label":"Page d-flex navigation example pt-3"},K={class:"pagination justify-content-center"},O=t("span",{"aria-hidden":"true"},[t("i",{class:"bi bi-caret-left-fill"})],-1),Q=[O],R={key:0,class:"page-link"},W=["onClick"],X=t("span",{"aria-hidden":"true"},[t("i",{class:"bi bi-caret-right-fill"})],-1),Y=[X];function Z(l,i,a,m,s,c){const k=r("Loadingitem"),A=r("VueLoading"),L=r("router-link");return n(),o(d,null,[h(A,{active:s.isLoading,"z-index":1060},{default:u(()=>[h(k)]),_:1},8,["active"]),z,t("section",D,[t("div",F,[H,t("div",M,[t("a",{onClick:i[0]||(i[0]=e=>c.getArticlestag("news"))},"News"),t("a",{onClick:i[1]||(i[1]=e=>c.getArticlestag("motogp"))},"MotoGP")]),t("div",S,[(n(!0),o(d,null,f(s.articles,e=>(n(),I(L,{to:`/blog/${e.id}`,key:e.create_at,class:"col-12 col-md-6 p-3 d-block text-decoration-none"},{default:u(()=>[t("div",j,[t("a",G,[t("img",{class:"w-100",src:e.imageUrl,alt:""},null,8,U)]),t("div",q,[t("h3",null,p(e.title),1)])])]),_:2},1032,["to"]))),128))]),t("nav",J,[t("ul",K,[t("li",{class:_(["page-item",{disabled:s.pagination.current_page===1}])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:i[2]||(i[2]=g(e=>c.getArticles(s.pagination.current_page-1),["prevent"]))},Q)],2),(n(!0),o(d,null,f(s.pagination.total_pages,(e,x)=>(n(),o("li",{key:x,class:_(["page-item",{active:e===s.pagination.current_page}])},[e===s.pagination.current_page?(n(),o("span",R,p(e),1)):(n(),o("a",{key:1,class:"page-link",href:"#",onClick:g(tt=>c.getArticles(e),["prevent"])},p(e),9,W))],2))),128)),t("li",{class:_(["page-item",{disabled:s.pagination.current_page===s.pagination.total_pages}])},[t("a",{class:"page-link",href:"#","aria-label":"Next",onClick:i[3]||(i[3]=g(e=>c.getArticles(s.pagination.current_page+1),["prevent"]))},Y)],2)])])])])],64)}const ct=V($,[["render",Z]]);export{ct as default};
