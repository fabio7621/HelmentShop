import{_ as C,m as P,a as V,c as o,e as r,d as I,b as t,w as d,r as p,F as _,f as h,D as m,k as b,o as i,g as T,t as n}from"./index-Dr1hX6is.js";import{c as k}from"./cartStore-B74Jb7Wl.js";import{P as A}from"./Pagination-CmgyeFZI.js";import{L as D}from"./Loadingitem-CH4zEKF4.js";import{_ as S}from"./home-BL8hcX6S.js";import{_ as $}from"./motohead-BtBMMVQo.js";import{_ as E}from"./search-ebS0M4nL.js";const N="/HelmentShop/assets/productbanner0001-CnIYAqtV.png",H="/HelmentShop/assets/banner-p03-vMWSzOjC.png",j={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_APIPATH:"fabio20"},{VITE_API:q,VITE_APIPATH:z}=j,B={data(){return{isLoading:!1,products:[],pagination:{},categories:["shoei","ogk","arai"]}},methods:{...V(k,["addToCart"]),getData(u=1){this.isLoading=!0;const{category:a=""}=this.$route.query,v=`${q}/api/${z}/products?category=${a}&page=${u}`;this.$http.get(v).then(l=>{const{products:s,pagination:c}=l.data;this.products=s,this.pagination=c,this.isLoading=!1}).catch(l=>{alert(`取得產品資訊失敗${l.response.data.message}`),this.isLoading=!1})}},computed:{...P(k,["isLoading"])},watch:{"$route.query":{handler(){this.getData()},deep:!0}},components:{Pagination:A,Loadingitem:D},mounted(){this.getData()}},F=I('<section class="section-main-banner"><img class="d-none d-md-block w-100" src="'+N+'" alt="banner"><img class="d-block d-md-none w-100" src="'+H+'" alt="banner"></section><section class="section-bread"><div class="section-bread-main"><ol class="bread-list d-flex align-items-center"><li class="bread-list-item"><div class="section-bread-pic"><img width="20" src="'+S+'" alt="home"></div></li><li class="bread-list-item" aria-current="page"><a>產品資訊</a></li></ol></div></section>',2),M={class:"section-product"},R={class:"section-product-main"},O=t("div",{class:"section-product-title d-flex align-items-center"},[t("div",{class:"product-title-pic"},[t("img",{src:$,alt:"titlePic"})]),t("h2",null,"產品資訊")],-1),U={class:"section-product-nav"},W={class:"product-box row"},Y={class:"product-item"},G=["src"],J=t("div",{class:"index-white-box position-absolute"},[t("div",{class:"white-box-pic position-absolute"},[t("img",{src:E,alt:""})])],-1),K={class:"index-product-title"},Q={class:"index-product-price"},X={class:"product-btns d-flex justify-content-around"},Z=t("i",{class:"bi bi-search"},null,-1),tt=["onClick"],et=t("i",{class:"bi bi-cart"},null,-1),st=[et],ot={"aria-label":"Page d-flex navigation example pt-3"},it={class:"pagination justify-content-center"},at=t("span",{"aria-hidden":"true"},[t("i",{class:"bi bi-caret-left-fill"})],-1),nt=[at],ct={key:0,class:"page-link"},rt=["onClick"],lt=t("span",{"aria-hidden":"true"},[t("i",{class:"bi bi-caret-right-fill"})],-1),dt=[lt];function pt(u,a,v,l,s,c){const x=p("Loadingitem"),y=p("VueLoading"),L=p("RouterLink"),f=p("router-link");return i(),o(_,null,[r(y,{active:s.isLoading,"z-index":1060},{default:d(()=>[r(x)]),_:1},8,["active"]),F,t("section",M,[t("div",R,[O,t("div",U,[(i(!0),o(_,null,h(s.categories,e=>(i(),o("li",{style:{"list-style-type":"none"},key:e},[r(L,{to:`/products?category=${e}`},{default:d(()=>[T(n(e),1)]),_:2},1032,["to"])]))),128))]),t("div",W,[(i(!0),o(_,null,h(s.products,(e,g)=>(i(),o("div",{class:"col-12 col-md-6 col-lg-4 mb-3 mb-md-4 p-2 p-md-4",key:`${g+12}`},[t("div",Y,[r(f,{to:`/product/${e.id}`,class:"d-block position-relative index-product-pic"},{default:d(()=>[t("img",{src:e.imageUrl,alt:"Product Image"},null,8,G),J]),_:2},1032,["to"]),t("h4",K,n(e.title),1),t("div",Q,[t("span",null,[t("del",null,"原價："+n(e.origin_price)+"元",1)]),t("p",null,"售價："+n(e.price)+"元",1)]),t("div",X,[r(f,{to:`/product/${e.id}`,class:"d-block w-50 h-100"},{default:d(()=>[Z]),_:2},1032,["to"]),t("button",{style:{"background-color":"none",border:"none"},onClick:w=>u.addToCart(e.id),class:"d-block w-50 h-100",href:""},st,8,tt)])])]))),128))]),t("nav",ot,[t("ul",it,[t("li",{class:m(["page-item",{disabled:s.pagination.current_page===1}])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:a[0]||(a[0]=b(e=>c.getData(s.pagination.current_page-1),["prevent"]))},nt)],2),(i(!0),o(_,null,h(s.pagination.total_pages,(e,g)=>(i(),o("li",{key:g,class:m(["page-item",{active:e===s.pagination.current_page}])},[e===s.pagination.current_page?(i(),o("span",ct,n(e),1)):(i(),o("a",{key:1,class:"page-link",href:"#",onClick:b(w=>c.getData(e),["prevent"])},n(e),9,rt))],2))),128)),t("li",{class:m(["page-item",{disabled:s.pagination.current_page===s.pagination.total_pages}])},[t("a",{class:"page-link",href:"#","aria-label":"Next",onClick:a[1]||(a[1]=b(e=>c.getData(s.pagination.current_page+1),["prevent"]))},dt)],2)])])])])],64)}const ft=C(B,[["render",pt]]);export{ft as default};
