import{a as g,u as _,r as b,d as f,w as $,f as I,b as i,i as x,e as t}from"./index-Cfi2m2dj.js";import{u as w}from"./toastMessage-Bd_7BpTT.js";import{_ as y,a as L}from"./banner-p05-f1rL14bm.js";import{_ as V}from"./home-BL8hcX6S.js";import{_ as A}from"./motohead-BtBMMVQo.js";const T={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_APIPATH:"fabio20"},{VITE_API:l,VITE_APIPATH:v}=T,o={data(){return{order:{user:{}},orderId:""}},methods:{...g(w,["pushMessage"]),getOrder(){const s=`${l}api/${v}/order/${this.orderId}`;this.isLoading=!0,this.$http.get(s).then(e=>{this.order=e.data.order,this.isLoading=!1}).catch(e=>{this.isLoading=!1,this.pushMessage({style:"danger",title:"取得訂單失敗",content:e.response.data.message})})},payOrder(){const s=`${l}api/${v}/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(s).then(()=>{this.isLoading=!1,this.getOrder()}).catch(e=>{this.isLoading=!1,this.pushMessage({style:"danger",title:"付款失敗",content:e.response.data.message})})}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}};function O(s,e,r,P,R,C,a,E){const m=b("VueLoading"),n=b("Loadingitem");e("<!--[-->"),e(f(m,{active:s.isLoading,"z-index":1060},{default:$((d,c,h,u)=>{if(c)c(f(n,null,null,h,u));else return[I(n)]}),_:1},r)),e(`<section class="section-main-banner" data-v-56eb6e5f><img class="d-none d-md-block w-100"${i("src",y)} alt="banner" data-v-56eb6e5f><img class="d-block d-md-none w-100"${i("src",L)} alt="banner" data-v-56eb6e5f></section><section class="section-bread" data-v-56eb6e5f><div class="section-bread-main" data-v-56eb6e5f><ol class="bread-list d-flex align-items-center" data-v-56eb6e5f><li class="bread-list-item" data-v-56eb6e5f><div class="section-bread-pic" data-v-56eb6e5f><img width="20"${i("src",V)} alt="homepic" data-v-56eb6e5f></div></li><li class="bread-list-item" aria-current="page" data-v-56eb6e5f><a data-v-56eb6e5f>訂單</a></li></ol></div></section><section class="section-product" data-v-56eb6e5f><div class="section-product-main" data-v-56eb6e5f><div class="section-product-title d-flex align-items-center" data-v-56eb6e5f><div class="product-title-pic" data-v-56eb6e5f><img${i("src",A)} alt="" data-v-56eb6e5f></div><h2 data-v-56eb6e5f>您的訂單</h2></div><div class="my-5 row justify-content-center" data-v-56eb6e5f><form class="col-md-6 userOrder border bg-white" data-v-56eb6e5f><table class="table align-middle" data-v-56eb6e5f><thead data-v-56eb6e5f><th data-v-56eb6e5f>品名</th><th data-v-56eb6e5f>數量</th><th data-v-56eb6e5f>單價</th></thead><tbody data-v-56eb6e5f><!--[-->`),x(a.order.products,d=>{e(`<tr data-v-56eb6e5f><td data-v-56eb6e5f>${t(d.product.title)}</td><td data-v-56eb6e5f>${t(d.qty)}/${t(d.product.unit)}</td><td data-v-56eb6e5f>${t(d.product.price)}</td><td class="text-end" data-v-56eb6e5f>${t(d.final_total)}</td></tr>`)}),e(`<!--]--></tbody><tfoot data-v-56eb6e5f><tr data-v-56eb6e5f><td data-v-56eb6e5f></td><td colspan="2" class="text-end" data-v-56eb6e5f>總計</td><td class="text-end" data-v-56eb6e5f>${t(a.order.total)}</td></tr></tfoot></table><table class="table" data-v-56eb6e5f><tbody data-v-56eb6e5f><tr data-v-56eb6e5f><th width="100" data-v-56eb6e5f>Email</th><td data-v-56eb6e5f>${t(a.order.user.email)}</td></tr><tr data-v-56eb6e5f><th data-v-56eb6e5f>姓名</th><td data-v-56eb6e5f>${t(a.order.user.name)}</td></tr><tr data-v-56eb6e5f><th data-v-56eb6e5f>收件人電話</th><td data-v-56eb6e5f>${t(a.order.user.tel)}</td></tr><tr data-v-56eb6e5f><th data-v-56eb6e5f>收件人地址</th><td data-v-56eb6e5f>${t(a.order.user.address)}</td></tr><tr data-v-56eb6e5f><th data-v-56eb6e5f>付款狀態</th><td data-v-56eb6e5f>`),a.order.is_paid?e('<span class="text-success" data-v-56eb6e5f>付款完成</span>'):e("<span data-v-56eb6e5f>尚未付款</span>"),e("</td></tr></tbody></table>"),a.order.is_paid===!1?e('<div class="text-end" data-v-56eb6e5f><button type="submit" class="btn btn-danger" data-v-56eb6e5f>確認付款去</button></div>'):e("<!---->"),e("</form></div></div></section><!--]-->")}o.ssrRender=O;o.__scopeId="data-v-56eb6e5f";const p=o.setup;o.setup=(s,e)=>{const r=_();return(r.modules||(r.modules=new Set)).add("src/views/FrontView/OrderView.vue"),p?p(s,e):void 0};export{o as default};
