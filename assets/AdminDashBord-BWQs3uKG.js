import{_ as p,c as u,b as s,e as a,w as n,r,k as g,o as i,g as c,a as b,h as f,i as k,F as $}from"./index-B2CUwak0.js";import{u as x}from"./toastMessage-CgHJWb5D.js";import{T as N}from"./ToastMessages-D4CmbQZG.js";const y={methods:{logout(){this.$http.post("https://vue3-course-api.hexschool.io/v2/logout").then(()=>{this.$router.push("/"),document.cookie="fabio20=; expires=; path=/"}).catch(e=>{alert(`${e.response.data.message}`)})}}},M={class:"navbar navbar-expand-lg bg-body-tertiary"},T={class:"container-fluid"},w=s("a",{class:"navbar-brand",href:"#"},"我的後台",-1),B=s("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[s("span",{class:"navbar-toggler-icon"})],-1),C={class:"collapse navbar-collapse",id:"navbarNav"},S={class:"navbar-nav"},V={class:"nav-item"},A={class:"nav-item"},L={class:"nav-item"},F={class:"nav-item"},z={class:"nav-item"};function D(o,e,_,v,l,d){const t=r("router-link");return i(),u("nav",M,[s("div",T,[w,B,s("div",C,[s("ul",S,[s("li",V,[a(t,{to:"/dashbord/product",class:"nav-link"},{default:n(()=>[c("產品")]),_:1})]),s("li",A,[a(t,{to:"/dashbord/order",class:"nav-link"},{default:n(()=>[c("訂單")]),_:1})]),s("li",L,[a(t,{to:"/dashbord/coupons",class:"nav-link"},{default:n(()=>[c("優惠卷")]),_:1})]),s("li",F,[a(t,{to:"/dashbord/article",class:"nav-link"},{default:n(()=>[c("貼文")]),_:1})]),s("li",z,[s("a",{onClick:e[0]||(e[0]=g(h=>d.logout(),["prevent"])),class:"nav-link"},"登出")])])])])])}const E=p(y,[["render",D]]),j={data(){return{checkSuccess:!1}},methods:{...b(x,["pushMessage"]),checklogin(){this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check").then(e=>{this.checkSuccess=!0,this.pushMessage({style:"success",title:"成功登入",content:e.data.message})}).catch(e=>{this.pushMessage({style:"danger",title:"錯誤訊息",content:error.response.data.message}),this.$router.push("/")})}},components:{NavbarLayout:E,ToastMessages:N},mounted(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)fabio20token\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=o,this.checklogin()}};function q(o,e,_,v,l,d){const t=r("NavbarLayout"),h=r("router-view"),m=r("ToastMessages");return i(),u($,null,[a(t),l.checkSuccess?(i(),f(h,{key:0})):k("",!0),a(m)],64)}const J=p(j,[["render",q]]);export{J as default};
